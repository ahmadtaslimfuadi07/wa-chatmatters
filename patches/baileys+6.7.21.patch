diff --git a/node_modules/baileys/lib/Utils/history.js b/node_modules/baileys/lib/Utils/history.js
index def9742..5e9244e 100644
--- a/node_modules/baileys/lib/Utils/history.js
+++ b/node_modules/baileys/lib/Utils/history.js
@@ -74,7 +74,9 @@ export const processHistoryMessage = (item) => {
     };
 };
 export const downloadAndProcessHistorySyncNotification = async (msg, options) => {
-    const historyMsg = await downloadHistory(msg, options);
+    const historyMsg = msg.initialHistBootstrapInlinePayload
+        ? proto.HistorySync.decode(await inflatePromise(msg.initialHistBootstrapInlinePayload))
+        : await downloadHistory(msg, options);
     return processHistoryMessage(historyMsg);
 };
 export const getHistoryMsg = (message) => {
